{"ast":null,"code":"import _objectWithoutProperties from\"/root/PetPulse-Ai/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/root/PetPulse-Ai/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"confirmPassword\"];import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{authService}from'../services/api';import{useAuth}from'../context/AuthContext';import{isValidEmail,isStrongPassword}from'../utils/helpers';import LoadingSpinner from'./LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const{login}=useAuth();const navigate=useNavigate();const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:'',firstName:'',lastName:'',phone:'',location:''});const[loading,setLoading]=useState(false);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();// Validation\nif(!formData.username||!formData.email||!formData.password||!formData.confirmPassword||!formData.firstName||!formData.lastName){toast.error('Please fill in all required fields');return;}if(!isValidEmail(formData.email)){toast.error('Please enter a valid email address');return;}if(!isStrongPassword(formData.password)){toast.error('Password must be at least 6 characters long');return;}if(formData.password!==formData.confirmPassword){toast.error('Passwords do not match');return;}setLoading(true);try{const{confirmPassword}=formData,registrationData=_objectWithoutProperties(formData,_excluded);const response=await authService.register(registrationData);const{token,user}=response.data;login(user,token);toast.success('Registration successful! Welcome to PetPulse AI!');navigate('/dashboard');}catch(error){var _error$response,_error$response$data;console.error('Registration error:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Registration failed. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC3E PetPulse AI\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create your account\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",value:formData.firstName,onChange:handleChange,required:true,placeholder:\"First name\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",value:formData.lastName,onChange:handleChange,required:true,placeholder:\"Last name\",disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true,placeholder:\"Choose a username\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter your email\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,placeholder:\"Create password\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true,placeholder:\"Confirm password\",disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",value:formData.phone,onChange:handleChange,placeholder:\"Phone number\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",name:\"location\",value:formData.location,onChange:handleChange,placeholder:\"Your location\",disabled:loading})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-large\",disabled:loading,children:loading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"small\",color:\"white\",text:\"Creating Account...\"}):'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"auth-link\",children:\"Sign in here\"})]})})]})});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}